package methoddoc

import "github.com/dave/jennifer/jen"

type Builder struct {
	Coders []Coder
}

func NewBuilder() *Builder {
	return &Builder{}
}

func (b *Builder) Add(coder Coder) *Builder {
	b.Coders = append(b.Coders, coder)
	return b
}
func (b *Builder) Build(fileName string) error {
	f := jen.NewFile("notion")
	f.Comment("Code generated by notion.codegen; DO NOT EDIT.").Line()
	for _, coder := range b.Coders {
		f.Add(coder.Code())
	}
	return f.Save(fileName)
}
